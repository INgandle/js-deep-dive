# 6장: 데이터 타입

자바스크립트의 모든 값은 데이터 타입을 갖는다.

#### 7개의 데이터 타입

1. 원시 타입

   - number 타입 : 정수/실수 구분없이 하나의 숫자 타입만 존재
   - string 타입 : 문자열
   - boolean 타입 : 논리적 참 (true) / 거짓 (false)
   - undefined 타입 : var 키워드로 선언된 변수에 암묵적으로 할당되는 값
   - null 타입 : 값이 없다는 것을 의도적으로 명시할 때 사용하는 값
   - symbol 타입 : ES6에서 추가된 7번째 타입

2. 객체 타입

- 객체, 함수, 배열 등

<br>

`원시 타입은 생성 후 그 값 자체가 그대로 유지된다.`

<br>

## 6.1 숫자 타입

자바스크립트는 독특하게 하나의 숫자 타입만 존재한다. <br>

### **64비트 부동 소수점 형식**

- 즉 모두 실수로 처리하며, 정수만 표현하기 위한 데이터 타입이 별도로 존재하지 않는다.
- 문법적 간결성을 제공하는 반면, 특정 상황에서는 미세한 정밀도 문제가 발생한다.
- `Infinity`, `-Infinity`, `NaN(not-a-number)` 표현 가능

```
console.log(1 === 1.0) // true 이다.
```

#### 정밀도 문제가 발생하는 예시

```
console.log(0.1 + 0.2);
// 예상: 0.3, 실제 출력: 0.30000000000000004
```

0.1과 0.2를 이진 부동 소수점 방식으로 표현할 때 정확한 값으로 표현되지 않기 때문에, 두 숫자를 더하면 미세한 오차가 누적되어 0.3 대신 0.30000000000000004가 출력된다.

#### 참고) 이를 해결하려면?

- `toFixed()` 사용: 숫자를 지정한 소수점 자릿수로 반올림하여 문자열로 반환 -> 다시 `parseFloat()`로 숫자로 변환 가능
- 정수 산술 사용
  ```
  const result = (0.1 * 10 + 0.2 * 10) / 10;
  console.log(result); // 0.3
  ```

<br>

## 6.2 문자열 타입

문자열은 텍스트 데이터를 나타낼 때 사용. 작은 따옴표(`''`), 큰 따옴표(`""`), 백틱(` `` `)으로 문자를 감싼다. <br>
문자열을 따옴표로 감싸지 않으면 JS엔진은 키워드나 식별자 같은 토큰으로 인식한다.

```
var string = hello; // ReferenceError; hello is not defined
```

자바스크립틔 문자열은 원시 타입, 변경 불가능한 값 (immutable value)이다.
문자열 객체 자체의 내용은 한 번 생성되면 직접적으로 수정할 수 없다

```
let str = 'Hello';
str[0] = 'J'; // 아무런 효과가 없다.
console.log(str); // "Hello" 출력
```

당연히 재할당은 된다. <br>
변수에 다른 문자열을 재할당하여 변수의 참조 대상을 바꾸는 것 != 기존 문자열 객체를 수정하는 것

<br>

## 6.3 템플릿 리터럴

ES6부터 멀티라인 문자열, 표현식 삽입, 태그드 템플릿 등 편리한 문자열 처리 기능을 제공한다. <br>
템플릿 리터럴은 **백틱**을 사용해 표현해야 한다.

| 이스케이프 시퀀스 | 의미                                                            |
| ----------------- | --------------------------------------------------------------- |
| \0                | Null                                                            |
| \b                | 백스페이스                                                      |
| \f                | 폼 피드 : 프린터로 출력할 경우 다음 페이지의 시작 지점으로 이동 |
| \n                | 개행 : 다음 행으로 이동                                         |
| \r                | 개행 : 커서를 처음으로 이동                                     |
| \t                | 탭 (수평)                                                       |
| \v                | 탭 (수직)                                                       |
| \uXXXX            | 유니코드                                                        |
| \’                | 작은따옴표                                                      |
| \”                | 큰따옴표                                                        |
| \\                | 백슬래시                                                        |

#### 표현식 삽입

- 문자열 연산자 `+` 를 사용해 문자열을 연결할 수 있다.
  - `+` 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작하며, 그 외의 경우에는 덧셈 연산자로 동작
- `${}`를 활용하여 표현식을 감쌀 수 있다.
  ```
  console.log(`1 + 2 = ${1 + 2}`); // 1 + 2 = 3;
  ```

<br>

## 6.4 불리언 타입

논리적 참, 거짓을 나타내는 `true`,` `false`

<br>

## 6.5 `undefined` 타입

개발자가 의도적으로 할당하기 위한 값이 아니라 JS 엔진이 변수를 초기화할 때 사용하는 값이다. <br>
변수를 참조했을 떄 `undefined`가 반환되면 참조한 변수가 선언 이후 값이 할당된 적이 없는 변수임을 알 수 있다. <br>

#### 개발자가 변수에 값이 없다는 것을 명시하고 싶다면?

대신 `null`을 할당해야 혼란을 방지할 수 있다.

<br>

## 6.6 `null` 타입

변수에 값이 없음을 의도적으로 명시할 때 사용 <br>

- 변수가 이전에 참조하던 값을 더 이상 참조하지 않곘다는 의미로, JS 엔진은 누구도 참조하지 않는 메모리 공간에 대해 가비지 콜렉션을 수행할 것
- 자바스크립트는 대소문자를 구별하므로 `Null`, `NULL` 등과 다르다.

<br>

## 6.7 Symbol 타입

ES6에서 추가된 타입으로 변경 불가능한 원시 타입의 값으로, <br>
다른 값과 중복되지 않는 유일무이한 값, 주로 이름이 충돌할 위험이 있는 객체의 유일한 프로퍼티 키를 만들기 위해 사용

```
var key = Symbol('key');
console.log(typeof key);   // symbol

// 이름이 충돌할 위험이 없는 유일무이한 값인 심벌을 프로퍼티 키로 사용
obj[key] = 'value';
console.log(obj[key]);
```

<br>

## 6.8 객체 타입

자바스크립트는 객체 기반의 언어, 자바스크립트를 이루고 있는 거의 모든 것이 객체다. 숫자, 문자열, boolean, undefined, null, symbol 타입 이외의 값은 모두 객체 타입

```
// 객체 리터럴을 사용한 생성
let person = {
  name: "Alice",
  age: 25
};

// 프로퍼티 접근 및 수정
console.log(person.name);  // "Alice"
person.age = 26;
person.city = "Seoul";     // 새로운 프로퍼티 추가
```

<br>

## 6.9 데이터 타입의 필요성

### 데이터 타입은 왜 필요할까?

JS 엔진은 데이터 타입에 따라 정해진 크기의 메모리 공간을 확보한다. 즉, 변수에 할당되는 값의 데이터 타입에 따라 확보해야 할 메모리 공간의 크기가 결정되기 때문이다.

- 메모리 공간의 크기를 결정하기 위해
- 값을 참조할 때 한 번에 읽어 들여야 할 메모리 공간의 크기를 결정하기 위해
- 메모리에서 읽어 들인 2진수를 어떻게 해석할지 결정하기 위해서

<br>

## 6.10 동적 타이핑

### 정적 타입 언어

- 변수를 선언할 때 변수에 할당할 수 있는 값의 종류, 데이터 타입을 사전에 명시해야 한다. 예) C, Java
- 명시적 타입 선언(Explicit type declaration)
- 변수의 타입을 변경할 수 없고, 변수 선언 타입에 맞는 값만 할당할 수 있다.
- 컴파일 시점에서 선언한 데이터 값에 맞는 값을 할당헀는지 검사한다.
- 타입의 일관성을 강제함으로써 런타임 발생 에러를 줄인다. 타입 체크를 통과 못하면 에러 발생

> 컴파일 타임에 에러를 잡을 수 있어 안정성이 높고 가독성이 좋다. 하지만 유연성이 떨어짐

### 동적 타입 언어

- 반면 자바스크립트는 변수를 선언할 때 타입을 선언하지 않는다.
  - `var`, `let`, `const` 키워드를 사용해 변수를 선언할 뿐이다.
- 어떠한 데이터 타입의 값이라도 자유롭게 할당할 수 있다.
- **자바스크립트에서는 값을 할당하는 시점에서 변수의 타입이 동적으로 결정되고, 변수의 타입을 언제든지 자유롭게 변경할 수 있다.**

```
let value = 5;      // value는 숫자형(Number)
value = "hello";    // 이제 value는 문자열(String)
```

> 자바스크립트의 변수는 선언이 아니라 할당에 의해 타입이 추론된다. (type inference)

### 동적 타입 언어의 단점

변수 값이 언제든지 변경 가능하기 때문에 복잡한 프로그램에서는 변화하는 변수 값 추적이 어려울 수 있다. 값을 확인하기 전에는 타입을 확신할 수 없음.
<br>
자바스크립트 엔진에 의해 암묵적으로 타입이 변환되기도 하기 때문에, 동적 타입 언어는 유연성이 높은 대신 신뢰성이 떨어진다.

> 유지 보수가 어려워지고, 타입 오류가 프로그램 실행 중에 발견되어 디버깅이 어려울 수 있다.

<br>

### 주의 사항

- 변수는 꼭 필요한 경우에만 사용한다. 동적 타입 언어인 자바스크립트는 타입을 잘못 예측해서 오류가 발생할 가능성이 크기 때문이다.
- 변수의 유효범위, 스코프는 최대한 좁게 만들어야 한다.
- 전역 변수는 최대한 사용하지 않는다.
- 변수 보다 상수를 사용해 값의 변경을 하지 않는다.
- 변수의 이름은 목적/의미를 파악할 수 있게 짓는다.

<br>

### 🪄 참고) 64비트 부동소수점?

64비트 형식은 부호, 지수, 가수라는 3부분 - 매우 큰 수부터 아주 작은 수까지 표현 가능 <br>
Floating Point란 소수점 위치가 고정되어 있지 않고 떠다니면서 변할 수 있다는 의미 <br>
참고) 파이썬의 `float`은 자바스크립트의 Number와 마찬가지로 64비트 부동소수점 형식 사용
